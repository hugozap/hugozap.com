
<p>I&#8217;ve been experimenting with using spring physics for UI animation and it makes a lot of sense. By using a physics model to move things we manage to get effects that look more natural. They just feel right compared to artificial non natural easings.</p>

<p>The idea is simple, you have an update loop. (Ideally using requestAnimationFrame) and using the t parameter you can get the calculated spring value for that moment in time. Then with the calculated value you have to use it to move/grow/shrink/rotate or whatever variable you are changing.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//pseudocode</span>
<span class="nx">update</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="kd">var</span> <span class="nx">currentValue</span> <span class="o">=</span> <span class="nx">spring</span><span class="p">(</span><span class="nx">initial</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>
    <span class="c1">//Do something with currentValue every frame</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the previous code we assume some default parameters for the physics model (stiffness/ damping / mass).</p>

<p>With that in place, you can for example add an event listener to a mouse click and change the &#8216;target&#8217; value and currentValue will eventually be equal to target, but meanwhile you will see the animation.</p>

<p>For a concrete implementation you can check <a href="https://codepen.io/rachsmith/post/hack-physics-and-javascript-part-3-springs-and-some-other-things">this blog post</a> from Rachel Smith</p>

<p>If you are using react, the same concept is used in the popular react-motion module. The usage is very simple</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">Motion</span> <span class="nx">defaultStyle</span><span class="o">=</span> <span class="nx">style</span><span class="o">=&gt;</span>
  <span class="p">{</span><span class="nx">interpolatingStyle</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style=</span><span class="si">{</span><span class="nx">interpolatingStyle</span><span class="si">}</span> <span class="p">/&gt;}</span>
<span class="p">&lt;</span><span class="err">/</span><span class="nc">Motion</span><span class="p">&gt;</span>
</code></pre></div></div>

