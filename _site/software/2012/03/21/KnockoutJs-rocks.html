
<p>I&#8217;m working on my second project using <a href="www.knockoutjs.com">KnockoutJS</a> and it has saved me a lot of time with the benefit of keeping my clientside code organized. I have enjoyed frontend development since i learned javascript and jquery and knockoutjs makes it more fun to build Web applications. The reason is that i can focus on the client logic and forget about dealing with dom elements updates.</p>

<h2 id="the-problem-that-knockoutjs-solves">The problem that knockoutjs solves.</h2>

<p>I love JavaScript and find JQuery very useful , however i don&#8217;t like plumbing code specially when dealing with updating DOM elements from model properties or visceversa.  Even trivial applications can benefit from a databinding mechanism like the one knockoutjs offers.</p>

<p>( trivial example )
suppose you need to create a web application that captures two fields FIELD1 and FIELD2 using input elements and display the sum of both elements whenever one of them changes.</p>

<p>Normally you would have the following steps:</p>
<ul>
  <li>Create a js method called recalculateSum that executes the business logic (adding 2 numbers)</li>
  <li>Capture the change event of FIELD1 and FIELD2 and recalculate the result</li>
  <li>Display the result in some DOM Element</li>
</ul>

<p><a href="http://jsbin.com/uhojek/4/edit#javascript,html,live">check the demo (without knockoutjs) here</a>
The html</p>

<figure class="highlight"><pre><code class="language-html-php" data-lang="html+php">&lt;body&gt;
  Field 1
  &lt;input type="text" name="field1" id="field1"/&gt;
  Field 2
  &lt;input type="text" name="field2" id="field2"/&gt;
  Really complex operation result:
  &lt;span id="result"/&gt;
&lt;/body&gt;</code></pre></figure>

<p>The javascript (using only jquery)</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="c1">//When field1 or field2 changes capture the values</span>
  <span class="c1">//recalculate result and update the result element</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">"#field1,#field2"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">field1</span> <span class="o">=</span>  <span class="nb">Number</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#field1"</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
    <span class="kd">var</span> <span class="nx">field2</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#field2"</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">recalculateResult</span><span class="p">(</span><span class="nx">field1</span><span class="p">,</span><span class="nx">field2</span><span class="p">);</span>  
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#result"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="p">});</span>  
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">recalculateResult</span><span class="p">(</span><span class="nx">val1</span><span class="p">,</span><span class="nx">val2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="nx">val1</span><span class="o">+</span><span class="nx">val2</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Now let&#8217;s see how we can create the example with knockoutjs.
<a href="http://jsbin.com/ucowot/2/edit">Check the code using knockoutjs here</a></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Model</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nb">self</span><span class="o">=</span><span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">field1</span><span class="o">=</span><span class="nx">ko</span><span class="p">.</span><span class="nx">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">field2</span><span class="o">=</span><span class="nx">ko</span><span class="p">.</span><span class="nx">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">result</span><span class="o">=</span><span class="nx">ko</span><span class="p">.</span><span class="nx">computed</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="nb">Number</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">field1</span><span class="p">())</span><span class="o">+</span><span class="nb">Number</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">field2</span><span class="p">());</span>
      <span class="p">}</span>
  <span class="p">);</span>
<span class="p">};</span>


<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">ko</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="k">new</span> <span class="nx">Model</span><span class="p">());</span>
<span class="p">});</span></code></pre></figure>

<p>Note that with knockout we don&#8217;t have to reference the html elements in our javascript code. We also don&#8217;t have to update manually the text of the span element that displays the result. This is possible because we created a computed value and let knockoutjs handle the update of the element whenever field1 or field2 change.</p>

<p>The binding is really easy, we use the attribute data-bind</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"> <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"field1"</span> <span class="na">id=</span><span class="s">"field1"</span> <span class="na">data-bind=</span><span class="s">"value:field1"</span><span class="nt">/&gt;</span></code></pre></figure>

<p>Knockout uses the concept of observables so it can track changes in the values and update the corresponding html element, it also handle the common change events in form elements and update the observable value.</p>

